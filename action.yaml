name: interesting-category-action
description: Validate that the next draft release is interesting
inputs:
  GITHUB_TOKEN:
    description: Token to run with, defaults to the repository GITHUB_TOKEN
    required: true
  INTERESTING_CATEGORIES:
    required: true
    description: |
      Regexp of emojis from https://github.com/jenkinsci/.github/blob/master/.github/release-drafter.yml representing changes of interest to users.
      By default excludes ğŸ“¦ğŸ“ğŸ‘»ğŸš¦ under the assumption these do not normally merit a release.
      An output of interesting = true/false will be set, the 'workflow_dispatch' (explicit release) is always 'interesting'.
    default: '[ğŸ’¥ğŸš¨ğŸ‰ğŸ›âš ğŸš€ğŸ‘·]|:(boom|tada|construction_worker):'
runs:
  using: composite
  steps: 
    - run: GITHUB_TOKEN=${{ inputs.GITHUB_TOKEN }} INTERESTING_CATEGORIES='${{ inputs.INTERESTING_CATEGORIES }}' $GITHUB_ACTION_PATH/run.sh
      shell: bash
